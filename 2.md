# 第二章

## 编码

1. 原反补移码

   最高位为符号位。正数的原反补码相同。

   - 原码

     若字长为$n+1$，则整数表示范围为$-(2^n-1)\leq x\leq2^n-1$，关于原点对称。

     $0$有正负两种形式。$1,000$和$0,000$。

   - 反码

     负数的反码为其原码各数值位取反。

     表示范围与原码相同。

   - 补码

     负数的补码为其反码末位$+1$。

     若字长为$n+1$，则补码整数的表示范围为$-2^n \leq x \leq 2^n-1$，即多表示了$[-2^n]_补=1,000$。同时，$0$的表示唯一，为$0,000$。

2. 无符号数

   全为数值位，没有符号位，默认为正数。

   若字长为$4$，最小值为$0000$（值为$0$），最大值为$1111$（值为$2^4-1=15$），即表示范围为$0$~$15$。

   有符号数即补码。

3. 字长转换

   丢弃高位。

## 运算

1. 移位

   - 逻辑移位

     将操作数视为无符号数。左移时，高位移出，低位补$0$；右移时，低位移出，高位补 0。若高位的 1 左移出，则发生溢出。

   - 算数移位

     将操作数视为有符号数（即补码）。左移时，高位移出，低位补$0$，若原符号位不同于移位后的符号位，则发生溢出；右移时，低位移出，高位补符号位，若低位的 1 移出，则影响精度。eg.$1,001$和$0,101$左移时溢出，右移时丢失精度。

2. 补码加减

   $[A+B]_补=[A]_补+[B]_补$(mod $2^{n+1}$)

   $[A-B]_补=[A]_补+[-B]_补$(mod $2^{n+1}$)

   其中，机器字长为$n+1$。

   加法将两个数的补码直接相加，减法将被减数与减数的负数补码相加。

   符号位与数值为一起参与运算。

   高位丢弃，保留$n+1$位，结果亦为补码。

   -溢出判别

   仅当两符号相同的数相加或两符号相异的数相减才可能发生溢出。

   - 一位符号位

        设$A$的符号位为$A_S$，$B$的符号位为$B_S$，运算结果的符号位为$S_S$，则溢出逻辑表达式为

     $V=A_SB_S \lnot S_S \lor \lnot A_S \lnot B_S S_S$

        若$V=0$，表示无溢出，若$V=1$，表示有溢出。
